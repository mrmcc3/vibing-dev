---
import Html from "$lib/html.astro";
import Head from "$lib/head.astro";
import Header from "$lib/header.astro";
import FeedItem from "$lib/feed-item.astro";
import { getCollection } from "astro:content";

const pub = await getCollection("public");
pub.sort((a, b) => b.data.pubDate.getTime() - a.data.pubDate.getTime());
---

<Html>
  <Head
    slot="head"
    title="vibing.dev"
    description="Outlet for whatever I'm vibing. Mostly web dev."
  />
  <Header />
  <main class="px-4 pb-12">
    <ul class="mx-auto max-w-prose">
      {pub.map((entry) => <FeedItem entry={entry} />)}
    </ul>
  </main>
</Html>
