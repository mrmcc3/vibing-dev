export const title = "Flexible MDX in Astro";
export const draft = true;
// export const pubDate = "2022-11-10T09:56:55.159Z";
export const description =
  "Some thoughts on authoring pages in Astro with markdown & MDX. I discuss my frustrations, failed attempts and present a flexible solution that lets you re-use markdown content on multiple pages.";
export const path = "/flexible-mdx-in-astro";

I've had mixed experiences with Markdown and MDX. Astro by default
supports markdown pages. It's almost too easy to get started, put a
`.md` file somewhere in `src/pages`, specify a `.astro` layout and you're
off to the races.

However issues quickly surface

1. CSS resets (like in tailwind) often mean the rendered content needs styling.
   - If you're using utility classes, by default you can't put them on the markdown elements.
   - If you do target the elements from a parent (like the `prose` class from [@tailwindcss/typography][tt])
     It can be hard to understand and customize
2. Fenced code blocks are great for short code snippets in content. Astro supports syntax
   highlighting out of the box but I want it to match the color scheme of the rest of the site
   in both ligh & dark modes.
3. The markdown renders correctly as a page on the site with a layout. However for small notes I
   also want to render the content on another page _without_ the layout (or using a different layout).
4. I want to organise all my markdown notes in whichever heirarchy is natural when I'm authoring and
   it should be flexible.
   - Maybe it starts flat with filenames that make sense to me.
   - What if I want the content to be published at specific urls that differ from the previous point.
   - If notes are reorganized in the repo by default the published urls will change (filesystem routing)
5. What if the need arrises for a custom component within the markdown content. Maybe something that
   requires fetching data or client side behaviour?

> TODO NOTES
>
> - Try and make all that work.
> - Can't get frustrated.
> - Never used MDX but it's the obvious solution to 5. try it get even more frustrated
> - Screw it, this `.astro` templating + tailwind is fire I'll just write all my content in that
> - Realize that markdown is just better
> - Try MDX again with a clearer head & realize it's good. Final solution is very nice!

[tt]: https://github.com/tailwindlabs/tailwindcss-typography/blob/595ea7d618fe25e82010b7655aa37c36a484eafe/src/styles.js
